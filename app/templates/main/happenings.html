{% extends "layout.html" %}
{% block main %}


{% macro display_event(name, description, photo, subheading=none, link_title=none, link=none,link_type=none)%}
<div class="col s12 m6 s6 happening-card">
    <div class="card medium">
        <div class="card-image waves-effect waves-block waves-light happening-image">
            <img class="activator card-photo" src="{{ url_for('static', filename=photo) }}">
        </div>
        <div class="card-content">
            <span class="card-title activator grey-text text-darken-4 with-subheading">{{name}}<i class="material-icons right">keyboard_arrow_up</i></span>
            {% if subheading is not none %}
            <span class="activator grey-text text-darken-1">{{ subheading }}</span>
            {% endif %}
            {% if link is not none %}
            <p class="spacer">
            <a href="
            {% if link_type == 'external'%}
                {{link}}
            {% else %}
                {{url_for(link)}}
            {% endif %}
            ">{{link_title}}</a></p>
            {% endif %}
        </div>
        <div class="card-reveal">
            <span class="card-title grey-text text-darken-4 with-subheading">{{name}}<i class="material-icons right">close</i></span>
            {% if subheading is not none %}
            <span class="activator grey-text text-darken-1">{{subheading}}</span>
            {% endif %}
            <p>{{description}}</p>

            {% if link is not none %}
            <p class="spacer">
            <a href="
            {% if link_type == 'external'%}
                {{link}}
            {% else %}
                {{url_for(link)}}
            {% endif %}
            ">{{link_title}}</a></p>
            {% endif %}
        </div>
    </div>
</div>
{% endmacro %}

<div class="container">
    <div class="section">
    <h1 class="center-align move-down"> Happenings </h1> 
        <div class="row">
            {{ display_event('Dump and Run Sale 2019', "Cornell's Dump & Run program collects items from students leaving 
                campus in May, and resells them to students moving in each August. In addition to diverting tons of reusable 
                items from the waste stream, the annual Dump & Run sale raises more than $60,000 a year for local charitable 
                organizations.", 'images/dar.jpg', 'Ends 09/01/19', 'Learn More', 
                'https://events.cornell.edu/event/dump_run_sale_2019', 
                'external') }} 
            {{ display_event("Ezra's Exchange", "Ezra's Exchange is a closet space open in the browsing 
                library in Willard Straight Hall. The closet's slogan is 'Free to Give, Free to Take.' 
                Here you can donate clothes and find new ones for free! Open whenever Willard Straight is!", 
                'images/exchangeclosets.jpg') }}
        </div>
        <div class="row">
            {{ display_event('Behind the Seams', "Behind the Seams is a photo campaign to get people thinking 
                about the value of clothes by sharing the stories they hold. We're hoping to reduce waste by having 
                people rethink the way they see their clothes. New photos go up on our Cornell Thrift Instagram 
                page every week.", 'images/foot_grass.jpg', none,'Check out our Instagram Page', 
                "https://www.instagram.com/cornellthrift/?utm_source=ig_embed", 'external' ) }}

             {{ display_event("Mending Workshops", "We'll teach you how to sew on that missing button, fix a tear, 
                or hem your dress! Come find us in the Willard Straight Hall International Lounge. Stay tuned for information
                on upcoming sessions!", 'images/mending_workshop.jpg') }}
            </div>
            <div class="row">
             {{ display_event('Pop-Up-Shops', "Want to start shopping sustainably? Stop by one of our pop-up shops and you'll 
                find free or low-price clothing from other Cornell students and local thrift shops!", 
                'images/pop-up2.jpg') }}
            </div>
    </div>
</div>
{% include "chunks/footer.html" %}
{% endblock %}